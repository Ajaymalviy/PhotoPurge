<!DOCTYPE html>
<html lang="en">
    {% load static %}
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PhotoPurge â€“ Clean Gmail & Migrate Google Photos</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #6c63ff;
      --secondary: #56cfe1;
      --background: #f9faff;
      --text: #222;
      --soft-gray: #eaeaea;
    }

    .dark-mode {
      --primary: #8d87ff;
      --secondary: #60e2f5;
      --background: #121212;
      --text: #ffffff;
      --soft-gray: #2d2d2d;
    }
    
    * {
      box-sizing: border-box;
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      background-color: var(--background);
      color: var(--text);
      line-height: 1.6;
      transition: background-color 0.3s, color 0.3s;
    }
    
    /* Repositioned theme toggle and header layout */
    .top-header {
      background: linear-gradient(120deg, var(--primary), var(--secondary));
      padding: 1.5rem 2rem;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-size: 400% 400%;
      animation: gradient 10s ease infinite;
    }
    
    .header-left {
        display: flex;
        align-items: center;
        gap: 1.5rem; /* Space between logo and toggle */
    }
    
    .header-right {
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .theme-toggle {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        font-size: 1.5rem;
        transition: transform 0.2s;
    }

    .theme-toggle:hover {
        transform: scale(1.1);
    }
    
    .dark-mode .theme-toggle {
        color: var(--text);
    }

    .top-header .logo h4 {
      margin: 0;
    }

    .top-header .logo a {
      color: white;
      font-family: 'Trebuchet MS', sans-serif;
      text-decoration: none;
    }

    .auth-links {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }

    .auth-links div {
      white-space: nowrap;
      font-weight: bold;
    }

    .auth-links a {
      color: white;
      font-weight: bold;
      text-decoration: none;
    }
    
    /* Adjusting the hero section for dark mode */
    .hero {
      background: linear-gradient(120deg, var(--primary), var(--secondary));
      color: white;
      padding: 5rem 1rem;
      text-align: center;
      background-size: 400% 400%;
      animation: gradient 10s ease infinite;
      padding-top: 3rem; 
    }
    
    .dark-mode .hero {
        background: linear-gradient(120deg, #1a1a2e , #3a5c8c); /* New dark gradient */
        color: white;
    }

    @keyframes gradient {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .cta-button {
      background-color: white;
      color: var(--primary);
      padding: 0.75rem 1.5rem;
      border-radius: 30px;
      text-decoration: none;
      font-weight: bold;
      transition: transform 0.2s, background 0.3s;
    }

    .cta-button:hover {
      transform: translateY(-3px);
      background-color: #f0f0f0;
    }

    .description {
      max-width: 800px;
      margin: 3rem auto;
      text-align: center;
      padding: 0 1rem;
    }
    
    .dark-mode .description {
      color: var(--text);
    }

    .features {
      padding: 3rem 1rem;
      background-color: var(--background);
      text-align: center;
      transition: background-color 0.3s;
    }
    
    .dark-mode .features {
        background-color: var(--soft-gray);
    }

    .features h2 {
      margin-bottom: 2rem;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 2rem;
      max-width: 1000px;
      margin: auto;
    }

    .features-grid-auth {
      display: flex;
      justify-content: center;
      gap: 2rem;
      max-width: 1000px;
      margin: auto;
    }

    .feature {
      background: var(--soft-gray);
      padding: 1.5rem;
      border-radius: 12px;
      transition: background 0.3s;
    }

    .feature:hover {
      background: #d4f5f0;
    }
    
    .dark-mode .feature {
        background: #444;
        color: white;
    }
    
    .dark-mode .feature:hover {
        background: #555;
    }

    .auth-feature-link {
      text-decoration: none;
      color: inherit;
    }
    
    .auth-feature-link .feature {
      background-color: var(--primary);
      color: white;
      transition: transform 0.2s, background 0.3s;
    }

    .auth-feature-link .feature:hover {
      transform: translateY(-5px);
      background-color: #5d56d9;
    }
    
    .dark-mode .auth-feature-link .feature {
        background-color: var(--primary);
    }

    .dark-mode .auth-feature-link .feature:hover {
        background-color: var(--dark-primary);
    }

    .auth-feature-link .feature p {
      color: white;
    }
    
    .feature img {
      width: 48px;
      margin-bottom: 1rem;
      filter: invert(0);
    }
    
    .dark-mode .feature img {
        filter: invert(1);
    }

    .how-it-works {
      padding: 3rem 1rem;
      background-color: #eef3ff;
      text-align: center;
      transition: background-color 0.3s;
    }
    
    .dark-mode .how-it-works {
        background-color: #2e2e50;
    }

    .how-it-works h2 {
      margin-bottom: 2rem;
    }
    
    .dark-mode .how-it-works h2 {
        color: white;
    }


    .timeline {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 2rem;
    }

    .step {
      flex: 1;
      min-width: 200px;
      max-width: 220px;
      background-color: white;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      transition: transform 0.2s, background-color 0.3s;
    }
    
    .dark-mode .step {
        background-color: #2d2d2d;
        color: white;
        box-shadow: 0 4px 12px rgba(255, 255, 255, 0.05);
    }

    .step:hover {
      transform: scale(1.05);
    }
    
    .dark-mode .step:hover {
        background-color: #3d3d3d;
    }


    .step .number {
      display: inline-block;
      background: var(--primary);
      color: white;
      width: 36px;
      height: 36px;
      line-height: 36px;
      border-radius: 50%;
      font-weight: bold;
      margin-bottom: 0.5rem;
    }

    footer {
      text-align: center;
      padding: 2rem 1rem;
      background-color: var(--soft-gray);
      font-size: 0.9rem;
      transition: background-color 0.3s, color 0.3s;
    }
    
    .dark-mode footer {
        background-color: #1a1a1a;
        color: #ddd;
    }

    footer a {
      color: var(--primary);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
    
    .dark-mode footer a {
        color: var(--secondary);
    }

  </style>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>

  <header class="top-header">
    <div class="header-left">
      <div class="logo">
        <h4>
          <a class="nav-link active" href="/" style="color: white; font-family: 'Trebuchet MS', sans-serif; text-decoration: none;">
            CODEMOS
          </a>
        </h4>
      </div>
      <button id="theme-toggle" class="theme-toggle">
        <span class="material-symbols-outlined">
            dark_mode
        </span>
    </button>
    </div>

    <div class="header-right">
        <div class="auth-links">
          {% if user.is_authenticated %}
            <div style="color: white; font-weight: bold;">ðŸ‘¤ {{ user.username|title }}</div>
            <a href="{% url 'logout_url' %}" style="color: white; font-weight: bold;">Signout</a>
          {% else %}
            <a href="http://127.0.0.1:8000/accounts/google/login/callback/" style="color: white; font-weight: bold;">
              Signin
            </a>
          {% endif %}
        </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-content">
        <h1>PhotoPurge â€“ Clean Gmail & Migrate Google Photos</h1>
        <p>Reclaim your Google storage by cleaning Gmail and migrating photos between accounts â€” fast and securely.</p>
        <a href="#start" class="cta-button">Start Cleaning Now</a>
      </div>
    </section>

    <section class="description" id="start">
      <p>
        <strong>PhotoPurge</strong> is a privacy-first tool that helps you reclaim space in your Google account.
        It lets you quickly clean up Gmail by deleting bulk emails (like Promotions and Social) and even migrate your Google Photos to another account â€” all with a secure, simple interface.
        No complex tools, just clean storage in clicks.
      </p>
    </section>

    <section class="features">
    {% if user.is_authenticated %}
    <h2>Let's Go</h2>
    <div class="features-grid-auth">
      <a href="{% url 'delete_emails' %}" class="auth-feature-link">
        <div class="feature">
            <img src="https://img.icons8.com/fluency-systems-regular/48/email-open.png" alt="Email Cleaner">
            <p>Delete Your bulk Gmail in once by category</p>
        </div>
      </a>
      <a href="{% url 'migrate_photos' %}" class="auth-feature-link">
        <div class="feature">
            <img src="https://img.icons8.com/fluency-systems-regular/48/google-photos.png" alt="Google Photos">
            <p>Migrate Google Photos to another account</p>
        </div>
      </a>
    </div>
    {% else %}
    <h2>Features</h2>
    <div class="features-grid">
      <div class="feature">
        <img src="https://img.icons8.com/fluency-systems-regular/48/lock--v1.png" alt="Secure Login">
        <p>Secure OAuth2.0 login</p>
      </div>
      <div class="feature">
        <img src="https://img.icons8.com/fluency-systems-regular/48/email-open.png" alt="Email Cleaner">
        <p>Delete bulk Gmail by category</p>
      </div>
      <div class="feature">
        <img src="https://img.icons8.com/fluency-systems-regular/48/google-photos.png" alt="Google Photos">
        <p>Migrate Google Photos to another account</p>
      </div>
      <div class="feature">
        <img src="https://img.icons8.com/fluency-systems-regular/48/time-machine.png" alt="Async Tasks">
        <p>Background processing with Celery</p>
      </div>
    </div>
    {% endif %}
  </section>
  
    <section class="how-it-works">
      <h2>How It Works</h2>
      <div class="timeline">
        <div class="step">
          <span class="number">1</span>
          <p>Sign in with your Google account securely</p>
        </div>
        <div class="step">
          <span class="number">2</span>
          <p>Select Gmail categories or Photos to manage</p>
        </div>
        <div class="step">
          <span class="number">3</span>
          <p>Delete or migrate â€” all in just one click</p>
        </div>
      </div>
    </section>
  </main>
  <footer>
    <p>
      <a href="https://github.com/ajaymalviy/photopurge" target="_blank">GitHub</a> |
      <a href="#">Privacy</a> | Created by <strong>Ajay & Yash</strong> with Django, Celery & Google APIs
    </p>
  </footer>
  
  <script>
    const themeToggleBtn = document.getElementById('theme-toggle');
    const body = document.body;
    
    // Check for saved theme preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      body.classList.add('dark-mode');
    }
    
    themeToggleBtn.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      
      // Save the current theme preference
      if (body.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
    });
  </script>
</body>
</html>
